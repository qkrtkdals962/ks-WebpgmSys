# 📘 프로세스 제어1 요약 정리 (마크다운)

## ✅ fork1: 기본 프로세스 생성 원리

- `fork()` 시스템 호출을 통해 **자식 프로세스를 생성**한다.
- `fork()`는 한 번 호출되지만 두 개의 리턴값이 있다:
  - 부모 프로세스에는 **자식 PID** 반환
  - 자식 프로세스에는 **0** 반환
- 이로 인해 부모와 자식은 **병렬로 독립적으로 실행**된다.

---

## ✅ fork2: 부모와 자식 프로세스 구분

- `fork()`의 반환값을 기준으로 `if` 문으로 분기하여 **부모와 자식 프로세스의 역할을 분리**할 수 있다.
- 각 프로세스는 독립적으로 `getpid()` 호출을 통해 자신만의 PID를 갖고 동작한다.

---

## ✅ fork3: 여러 자식 프로세스 생성

- `fork()`를 두 번 호출함으로써 **2개의 자식 프로세스를 생성**할 수 있다.
  - 첫 번째 `fork()`는 자식 1 생성
  - 두 번째 `fork()`는 부모만 실행 → 자식 2 생성
- 각 자식 프로세스는 `exit()`으로 종료해야 **부모 코드의 실행을 방지**할 수 있다.
- 자식 프로세스가 `exit()` 없이 그대로 두면 **예기치 않게 부모 코드가 중복 실행될 수 있음**.

---

## ✅ fork4 (forkwait): 부모가 자식 종료를 기다림

- `wait()` 시스템 호출을 사용하면 부모가 자식 프로세스가 끝날 때까지 대기한다.
- `wait(&status)`는 종료된 자식 프로세스의 PID를 반환하고,
  종료 코드(status)는 비트 연산으로 확인 가능 (`status >> 8`)
- 자식이 먼저 종료되고 부모가 `wait()` 하지 않으면 **좀비 프로세스(Zombie Process)**가 생성될 수 있음.

---

## ✅ 추가 개념 요약

| 개념              | 설명 |
|-------------------|------|
| `fork()`          | 부모를 복제하여 자식 생성 |
| `getpid()`        | 현재 프로세스의 PID 반환 |
| `exit(code)`      | 현재 프로세스 종료 및 종료 코드 반환 |
| `wait()`          | 아무 자식 프로세스의 종료를 기다림 |
| `waitpid(pid)`    | 특정 자식 프로세스의 종료를 기다림 |
| 좀비 프로세스     | 부모가 종료된 자식의 상태를 회수하지 않아 남은 상태 |

